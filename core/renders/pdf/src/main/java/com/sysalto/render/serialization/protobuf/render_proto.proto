syntax = "proto3";
option optimize_for = SPEED;

package com.sysalto.render.serialization;


message PdfBaseItem_proto {
    int64 id = 1;
    int64 offset = 2;
    oneof field {
        PdfCatalog_proto pdfCatalogProto = 3;
        PdfPage_proto pdfPageProto = 4;
        PdfFont_proto pdfFontProto = 5;
        PdfPageContent_proto pdfPageContentProto = 6;
        PdfPageList_proto pdfPageListProto = 7;
        PdfImage_proto pdfImageProto = 8;
        PdfShaddingFctColor_proto pdfShaddingFctColor_proto = 9;
        PdfColorShadding_proto pdfColorShadding_proto = 10;
        PdfGPattern_proto pdfGPattern_proto = 11;
        PdfFontStream_proto pdfFontStream_proto = 12;
        PdfFontDescriptor_proto pdfFontDescriptor_proto = 13;
    }
}
message PdfCatalog_proto {
    repeated int64 idPdfPageListOpt = 1;
    repeated int64 idPdfNamesOpt = 2;
}

message PdfPage_proto {
    int64 parentId = 1;
    float pageWidth = 2;
    float pageHeight = 3;
    repeated int64 idFontList = 4;
    repeated int64 idPdfPatternList = 5;
    repeated int64 idAnnotationList = 6;
    repeated int64 idImageList = 7;
    repeated int64 idContentPageOpt = 8;
    int64 leafNbr = 9;
}


message PdfFont_proto {
    string refName = 1;
    string fontKeyName = 2;
    repeated FontEmbeddedDef_proto fontEmbeddedDef = 3;
}

message FontEmbeddedDef_proto {
    int64 idPdfFontDescriptor = 1;
    int64 idPdfFontStream = 2;
}

message PdfPageItem_proto {
    oneof fieldItem {
        PdfText_proto pdfText_proto = 1;
        PdfGraphic_proto pdfGraphic_proto = 2;
    }
}


message PdfGraphic_proto {
    repeated PdfGraphicFragment_proto pdfGraphicFragment_proto = 1;
}

message ReportTxt_proto {
    string txt = 1;
}

message PdfTxtFragment_proto {
    float x = 1;
    float y = 2;
    ReportTxt_proto rtext_proto = 3;
    string fonttRefName = 4;
}


message PdfText_proto {
    repeated PdfTxtFragment_proto txtList = 1;
}

message PdfPageContent_proto {
    repeated PdfPageItem_proto pdfPageItem_proto = 3;
    bool pdfCompression = 4;
}

message PdfPageList_proto {
    int64 leafNbr = 1;
    repeated int64 parentId = 2;
    repeated int64 pageList = 3;
}

message PdfImage_proto {
    string fileName = 1;
}

message ReportColor_proto {
    int32 r = 1;
    int32 g = 2;
    int32 b = 3;
    float opacity = 4;
}

message PdfShaddingFctColor_proto {
    ReportColor_proto color1 = 1;
    ReportColor_proto color2 = 2;

}

message PdfColorShadding_proto {
    float x0 = 1;
    float y0 = 2;
    float x1 = 3;
    float y1 = 4;
    int64 idPdfShaddingFctColor = 5;
}

message PdfGPattern_proto {
    int64 idPdfShadding = 1;
}


message PdfGraphicFragment_proto {
    string content = 1;
    oneof field {
        DrawLine_proto drawLine_proto = 2;
        PdfRectangle_proto pdfRectangle_proto = 3;
        DrawStroke_proto drawStroke_proto = 4;
        PdfDrawImage_proto pdfDrawImage_proto = 5;
        DrawPieChart_proto drawPieChart_proto = 6;
        DrawMovePoint_proto drawMovePoint_proto = 7;
    }
}


message DrawStroke_proto {

}

message PdfRectangle_proto {
    int64 x2 = 1;
    float radius = 2;
    repeated int64 idPatternColor = 3;
    int64 y1 = 4;
    int64 y2 = 5;
    int64 x1 = 6;
    repeated ReportColor_proto borderColor = 7;
    repeated ReportColor_proto fillColor = 8;
}


message LineDashType_proto {
    int32 unit = 1;
    int32 phase = 2;
}

message DrawLine_proto {
    float x1 = 1;
    float y1 = 2;
    float x2 = 3;
    float y2 = 4;
    float vlineWidth = 5;
    ReportColor_proto color = 6;
}

message PdfDrawImage_proto {
    float x = 1;
    float y = 2;
    float scale = 3;
    int64 idPdfImage = 4;
    repeated float opacity = 5;

}

enum RFontAttribute_proto {
    NORMAL = 0;
    BOLD = 1;
    ITALIC = 2;
    BOLD_ITALIC = 3;
}

message RColor_proto {
    int32 r = 1;
    int32 g = 2;
    int32 b = 3;
    float opacity = 4;
}


message RFont_proto {
    int32 size = 1;
    string fontName = 2;
    RFontAttribute_proto attribute = 3;
    RColor_proto color = 4;
}


message DrawPieChart_proto {
    float x = 1;
    float y = 2;
    repeated StringDouble_proto data = 3;
    float height = 4;
    string title = 6;
    float width = 7;
    RFont_proto font = 8;
}

message DrawMovePoint_proto {
    float x = 1;
    float y = 2;
}

message StringDouble_proto {
    string value1 = 1;
    double value2 = 2;

}

message EmbeddedFontDescriptor_proto {
    GlyphWidth_proto glyphWidth = 1;
    int32 capHeight = 2;
    FontBBox_proto fontBBox = 3;
    int32 ascent = 4;
    int32 flags = 5;
    int32 italicAngle = 6;
    int32 descent = 7;

}


message GlyphWidth_proto {
    int32 firstChar = 1;
    int32 lastChar = 2;
    repeated int32 widthList = 3;

}


message FontBBox_proto {
    int32 lowerLeftX = 1;
    int32 lowerLeftY = 2;
    int32 upperRightX = 3;
    int32 upperRightY = 4;

}

message PdfFontStream_proto {
    string fontName = 1;
    FontMetric_proto fontMetric = 2;
    bool pdfCompression = 3;
}

message FontMetric_proto {
    string fontName = 1;
    map<int32, float> fontMap = 2;
    FloatFloat_proto fontHeight = 3;
    repeated EmbeddedFontDescriptor_proto fontDescriptor = 4;

}


message FloatFloat_proto {
    float value1 = 1;
    float value2 = 2;

}

message PdfFontDescriptor_proto {
    int64 idPdfFontStream = 1;
    string fontKeyName = 2;
}